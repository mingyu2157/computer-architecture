# Chapter08 입출력장치

## 장치 컨트롤러와 장치 드라이버

입출력 장치는 **장치 컨트롤러**를 통해 컴퓨터 내부와 정보를 주고 받음

장치 컨트롤러의 역할

1. CPU와 입출력장치 간의 통신 중개
2. 오류 검출
3. 데이터 버퍼링 : 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이터를 버퍼라는 임시 저장공간에 저장

장치 컨트롤러의 내부 구조

1. 데이터 레지스터 *data register*

   CPU와 입출력장치 사이에 주고받을 데이터가 담기는 레지스터(버퍼 역할)

2. 상태 레지스터 *status register*

   입출력장치가 입출력 작업을 할 준비, 완료, 오류등의 상태 정보가 저장

3. 제어 레지스터 *control register*

   입출력장치가 수행할 내용에 대한 제어 정보와 명령을 저장

**장치 드라이버** 

장치 컨트롤러의 동작을 감지/제어함으로써 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램 

## 다양한 입출력 방법

1. 프로그램 입출력 : 프로그램 속 명령어로 입출력장치를 제어하는 방법

   - 메모리 맵 입출력 

     메모리를 위한 주소공간과 입출력 장치를 위한 주소공간을 하나의 주소공간으로 간주하는 방법

   - 고립형 입출력

     메모리를 위한 주소공간과 입출력 장치를 위한 주소공간을 분리하는 방법

2. 인터럽트 기반 입출력 : 인터럽트를 기반으로 하는 입출력

   - CPU는 인터럽트 간에 우선순위를 고려하여 우선순위가 높은 인터럽트 순으로 인터럽트 처리
   - 프로그래머블 인터럽트 컨트롤러(PIC)라는 하드웨어 사용 - 우선순위를 판단하여 CPU에 전달

3. DMA 입출력 : 메모리가 CPU를 거치지 않고도 상호작용할 수 있는 입출력 방식

   - DMA컨트롤러라는 하드웨어 필요

   - 입출력 버스 : DMA컨트롤러와 장치 컨트롤러가 서로 데이터를 전송할 때 시스템 버스 이용x

     PCI버스, PCI Express(PCIe)버스 등 여러 종류가 있음



